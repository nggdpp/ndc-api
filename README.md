# REST API for the National Digital Catalog

This repo contains the scaffolding for a new REST API for the National Digital Catalog. It exposes all of the data functionality built through the [ndc-pipeline](https://github.com/nggdpp/ndc-pipeline) and leverages functions from the [pynggdpp](https://github.com/nggdpp/pynggdpp) package. It is built with the Flask RestPlus framework to provide Swagger documentation. A live deployment of the API will be determined based on where we can spin up this environment. All of the data connections require environment variables indicating where the infrastructure is located and how it can be accessed.

I'm currently still experimenting between a couple of different infrastructure options to back the API - one based in MongoDB following the "serverful" approach to building data outlines in the ndc-pipeline readme and the other based in Elasticsearch following the serverless approach. Elasticsearch offers a number of distinct advantages, and we will probably end up there after I work out a few issues with infrastructure deployment and availability for a live system. Elastic has far better functionality and much more performant search for this type of application. In either case, the API routes will continue to evolve based on application needs, and I'm trying to build in such a way that I can simply swap in different functions from the pynggdpp package depending on what infrastructure we need to talk to.

API and data versioning schemes are also still works in progress. I've built some degree of collection-level versioning into the ndc-pipeline, but I've not yet dealt with item-level versioning for source data flow. A business decision will need to be made on whether or not the National Digital Catalog needs to retain previous versions of metadata for the artifacts in a given collection. Once the routes settle for the API and we get out to a production deploy, we can start imposing version discipline on API functionality with some dependency on what we do with the data.